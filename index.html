<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClickFit - Your Fitness Journey Starts Here</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Animate.css -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">

    <style>
        :root {
            --primary-color: #ff6b35;
            --secondary-color: #004e89;
            --accent-color: #ffd23f;
            --dark-color: #1a1a1a;
            --light-color: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            overflow-x: hidden;
        }

        /* Animated Background */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            min-height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            animation: backgroundMove 20s linear infinite;
        }

        @keyframes backgroundMove {
            0% {
                transform: translateX(0) translateY(0);
            }

            100% {
                transform: translateX(-10px) translateY(-10px);
            }
        }

        /* Floating animations */
        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .floating-delayed {
            animation: floating 3s ease-in-out 1.5s infinite;
        }

        /* Navbar */
        .navbar {
            background: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .navbar-brand {
            font-weight: bold;
            font-size: 1.8rem;
            color: var(--primary-color) !important;
        }

        .nav-link {
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-link:hover {
            color: var(--primary-color) !important;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background-color: var(--primary-color);
            transition: all 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
            left: 0;
        }

        /* Hero Content */
        .hero-content {
            position: relative;
            z-index: 2;
            color: white;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .btn-primary-custom {
            background: var(--accent-color);
            border: none;
            color: var(--dark-color);
            font-weight: bold;
            padding: 12px 30px;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 210, 63, 0.3);
        }

        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 210, 63, 0.4);
            background: #ffdd33;
            color: var(--dark-color);
        }

        .btn-secondary-custom {
            background: transparent;
            border: 2px solid white;
            color: white;
            font-weight: bold;
            padding: 12px 30px;
            border-radius: 50px;
            transition: all 0.3s ease;
        }

        .btn-secondary-custom:hover {
            background: white;
            color: var(--primary-color);
            transform: translateY(-2px);
        }

        /* Statistics Cards */
        .stats-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .stats-card:hover::before {
            left: 100%;
        }

        .stats-card:hover {
            transform: translateY(-10px);
        }

        .stats-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .stats-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
        }

        /* Upload Section */
        .upload-section {
            background: var(--light-color);
            padding: 4rem 0;
        }

        .upload-area {
            border: 3px dashed var(--primary-color);
            border-radius: 15px;
            padding: 3rem;
            text-align: center;
            background: white;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .upload-area:hover {
            border-color: var(--secondary-color);
            background: #f8f9ff;
        }

        .upload-area.dragover {
            border-color: var(--accent-color);
            background: #fffdf0;
            transform: scale(1.02);
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        /* Facts Section */
        .facts-section {
            background: var(--secondary-color);
            color: white;
            padding: 3rem 0;
        }

        .fact-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* User Management Section */
        .user-section {
            padding: 4rem 0;
        }

        .form-control {
            border-radius: 10px;
            border: 2px solid #e9ecef;
            padding: 12px 15px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(255, 107, 53, 0.25);
        }

        .user-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .user-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .badge-admin {
            background-color: #dc3545;
        }

        .badge-trainer {
            background-color: #fd7e14;
        }

        .badge-member {
            background-color: #198754;
        }

        /* Footer */
        .footer {
            background: var(--dark-color);
            color: white;
            padding: 3rem 0;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .stats-card {
                margin-bottom: 2rem;
            }
        }

        /* Loading Animation */
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            min-width: 300px;
        }

        /* Pulse Animation */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }
    </style>
</head>

<body>
    <!-- Notification Container -->
    <div id="notification-container" class="notification"></div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#"><i class="fas fa-dumbbell"></i> ClickFit</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#programs">Programs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#trainers">Trainers</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#gallery">Gallery</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="hero-content animate__animated animate__fadeInLeft">
                        <h1 class="hero-title">Transform Your Body, Transform Your Life</h1>
                        <p class="hero-subtitle">Join ClickFit and discover the power within you. Professional trainers,
                            state-of-the-art equipment, and a community that supports your fitness journey.</p>
                        <div class="d-flex gap-3 flex-wrap">
                            <button class="btn btn-primary-custom">Start Your Journey</button>
                            <button class="btn btn-secondary-custom">Learn More</button>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="text-center animate__animated animate__fadeInRight">
                        <i class="fas fa-running floating"
                            style="font-size: 15rem; color: rgba(255, 255, 255, 0.2);"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Statistics Section -->
    <section class="py-5" style="margin-top: -20px; position: relative; z-index: 3;">
        <div class="container">
            <div class="row" id="stats-container">
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="stats-card animate__animated animate__fadeInUp">
                        <i class="fas fa-users stats-icon"></i>
                        <div class="stats-number" id="total-users">0</div>
                        <p class="mb-0">Total Members</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="stats-card animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
                        <i class="fas fa-user-tie stats-icon"></i>
                        <div class="stats-number" id="trainers-count">0</div>
                        <p class="mb-0">Expert Trainers</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="stats-card animate__animated animate__fadeInUp" style="animation-delay: 0.4s;">
                        <i class="fas fa-trophy stats-icon"></i>
                        <div class="stats-number" id="active-users">0</div>
                        <p class="mb-0">Active Members</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="stats-card animate__animated animate__fadeInUp" style="animation-delay: 0.6s;">
                        <i class="fas fa-dumbbell stats-icon"></i>
                        <div class="stats-number">50+</div>
                        <p class="mb-0">Equipment</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Daily Fact Section -->
    <section class="facts-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="mb-4">Daily Fitness Fact</h2>
                    <div class="fact-card" id="daily-fact">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Loading amazing fact...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section id="gallery" class="upload-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2 class="text-center mb-5">Share Your Fitness Journey</h2>
                    <div class="upload-area" id="uploadArea">
                        <i class="fas fa-cloud-upload-alt upload-icon floating-delayed"></i>
                        <h4>Drag & Drop Images Here</h4>
                        <p class="text-muted mb-3">or click to browse files</p>
                        <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
                        <button class="btn btn-primary-custom" onclick="document.getElementById('fileInput').click()">
                            <i class="fas fa-images me-2"></i>Choose Images
                        </button>
                    </div>
                    <div id="uploadResult" class="mt-4"></div>
                </div>
            </div>

            <!-- Uploaded Images Gallery -->
            <div class="row mt-5">
                <div class="col-12">
                    <h3 class="text-center mb-4">Gallery</h3>
                    <div id="imageGallery" class="row"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- User Management Section -->
    <section class="user-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <h2 class="mb-4">Join Our Community</h2>
                    <form id="userForm" class="mb-4">
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" id="userEmail" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-control" id="userPassword" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Member Type</label>
                            <select class="form-control" id="userType">
                                <option value="member">Member</option>
                                <option value="trainer">Trainer</option>
                                <option value="admin">Admin</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary-custom">
                            <i class="fas fa-user-plus me-2"></i>Join Now
                        </button>
                    </form>
                </div>

                <div class="col-lg-6">
                    <h3 class="mb-4">Our Community Members</h3>
                    <div class="mb-3">
                        <select class="form-control" id="filterType">
                            <option value="">All Members</option>
                            <option value="admin">Admins</option>
                            <option value="trainer">Trainers</option>
                            <option value="member">Members</option>
                        </select>
                    </div>
                    <div id="usersList" style="max-height: 400px; overflow-y: auto;"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <h5><i class="fas fa-dumbbell me-2"></i>ClickFit</h5>
                    <p>Transform your life with our comprehensive fitness programs and expert guidance.</p>
                </div>
                <div class="col-lg-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-light">Programs</a></li>
                        <li><a href="#" class="text-light">Trainers</a></li>
                        <li><a href="#" class="text-light">Membership</a></li>
                        <li><a href="#" class="text-light">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-4">
                    <h5>Contact Info</h5>
                    <p><i class="fas fa-phone me-2"></i> +1 (555) 123-4567</p>
                    <p><i class="fas fa-envelope me-2"></i> info@clickfit.com</p>
                    <p><i class="fas fa-map-marker-alt me-2"></i> 123 Fitness Street, Gym City</p>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p>&copy; 2025 ClickFit. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function () {
            // API Base URL
            const API_BASE = 'http://localhost:3000';

            // Initialize the application
            init();

            function init() {
                loadDailyFact();
                loadStats();
                loadUsers();
                loadImageGallery();
                setupEventListeners();

                // Scroll effects
                $(window).scroll(function () {
                    if ($(this).scrollTop() > 100) {
                        $('.navbar').addClass('scrolled');
                    } else {
                        $('.navbar').removeClass('scrolled');
                    }
                });
            }

            // Load daily fact from Numbers API
            function loadDailyFact() {
                $('#daily-fact .loading').show();

                $.ajax({
                    url: 'http://numbersapi.com/1/30/date?json',
                    method: 'GET',
                    dataType: 'json',
                    success: function (data) {
                        setTimeout(() => {
                            $('#daily-fact').html(`
                                <div class="animate__animated animate__fadeIn">
                                    <h4><i class="fas fa-calendar-day me-2"></i>January 30th Fact</h4>
                                    <p class="lead">${data.text}</p>
                                    <small class="text-muted">Source: Numbers API</small>
                                </div>
                            `);
                        }, 1000);
                    },
                    error: function () {
                        $('#daily-fact').html(`
                            <div class="animate__animated animate__fadeIn">
                                <h4><i class="fas fa-info-circle me-2"></i>Fitness Tip of the Day</h4>
                                <p class="lead">Did you know? Regular exercise can increase your lifespan by up to 7 years and improve your quality of life significantly!</p>
                                <small class="text-muted">Stay motivated and keep moving!</small>
                            </div>
                        `);
                    }
                });
            }

            // Load statistics from API
            function loadStats() {
                $.ajax({
                    url: `${API_BASE}/api/stats`,
                    method: 'GET',
                    success: function (response) {
                        if (response.success) {
                            animateNumber('total-users', response.data.totalUsers);
                            animateNumber('active-users', response.data.activeUsers);

                            // Count trainers
                            const trainers = response.data.usersByType.find(item => item.type === 'trainer');
                            animateNumber('trainers-count', trainers ? trainers.count : 0);
                        }
                    },
                    error: function () {
                        // Fallback with dummy data
                        animateNumber('total-users', 1250);
                        animateNumber('active-users', 980);
                        animateNumber('trainers-count', 25);
                    }
                });
            }

            // Animate numbers counting up
            function animateNumber(elementId, targetNumber) {
                const element = $(`#${elementId}`);
                const startNumber = 0;
                const duration = 2000;
                const increment = targetNumber / (duration / 50);
                let currentNumber = startNumber;

                const timer = setInterval(() => {
                    currentNumber += increment;
                    if (currentNumber >= targetNumber) {
                        currentNumber = targetNumber;
                        clearInterval(timer);
                    }
                    element.text(Math.floor(currentNumber));
                }, 50);
            }

            // Setup event listeners
            function setupEventListeners() {
                // File upload events
                setupFileUpload();

                // User form submission
                $('#userForm').on('submit', handleUserSubmit);

                // User filter
                $('#filterType').on('change', function () {
                    loadUsers($(this).val());
                });

                // Navigation smooth scroll
                $('a[href^="#"]').on('click', function (e) {
                    e.preventDefault();
                    const target = $($(this).attr('href'));
                    if (target.length) {
                        $('html, body').animate({
                            scrollTop: target.offset().top - 100
                        }, 800);
                    }
                });
            }

            // File upload functionality
            function setupFileUpload() {
                const uploadArea = $('#uploadArea');
                const fileInput = $('#fileInput');

                // Click to upload
                uploadArea.on('click', function () {
                    fileInput.click();
                });

                // Drag and drop
                uploadArea.on('dragover', function (e) {
                    e.preventDefault();
                    $(this).addClass('dragover');
                });

                uploadArea.on('dragleave', function (e) {
                    e.preventDefault();
                    $(this).removeClass('dragover');
                });

                uploadArea.on('drop', function (e) {
                    e.preventDefault();
                    $(this).removeClass('dragover');
                    const files = e.originalEvent.dataTransfer.files;
                    handleFileUpload(files);
                });

                // File input change
                fileInput.on('change', function () {
                    handleFileUpload(this.files);
                });
            }

            // Handle file upload
            function handleFileUpload(files) {
                if (files.length === 0) return;

                const formData = new FormData();
                Array.from(files).forEach(file => {
                    formData.append('images', file);
                });

                // Show loading
                $('#uploadResult').html(`
                    <div class="text-center">
                        <div class="spinner"></div>
                        <p>Uploading ${files.length} file(s)...</p>
                    </div>
                `);

                $.ajax({
                    url: `${API_BASE}/upload`,
                    method: 'POST',
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function (response) {
                        if (response.success) {
                            showNotification('Files uploaded successfully!', 'success');
                            $('#uploadResult').html(`
                                <div class="alert alert-success animate__animated animate__fadeIn">
                                    <i class="fas fa-check-circle me-2"></i>
                                    ${response.message}
                                </div>
                            `);
                            loadImageGallery(); // Refresh gallery
                        }
                    },
                    error: function (xhr) {
                        const error = xhr.responseJSON || { message: 'Upload failed' };
                        showNotification(error.message, 'error');
                        $('#uploadResult').html(`
                            <div class="alert alert-danger animate__animated animate__fadeIn">
                                <i class="fas fa-exclamation-circle me-2"></i>
                                ${error.message}
                            </div>
                        `);
                    }
                });
            }

            // Load image gallery
            function loadImageGallery() {
                $.ajax({
                    url: `${API_BASE}/images`,
                    method: 'GET',
                    success: function (response) {
                        if (response.success && response.images.length > 0) {
                            let galleryHTML = '';
                            response.images.slice(0, 8).forEach((image, index) => {
                                galleryHTML += `
                                    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                                        <div class="card h-100 animate__animated animate__fadeInUp" style="animation-delay: ${index * 0.1}s;">
                                            <img src="${API_BASE}${image.url}" class="card-img-top" style="height: 200px; object-fit: cover;" alt="Gallery Image">
                                            <div class="card-body">
                                                <small class="text-muted">${new Date(image.created).toLocaleDateString()}</small>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            });
                            $('#imageGallery').html(galleryHTML);
                        } else {
                            $('#imageGallery').html(`
                                <div class="col-12 text-center">
                                    <p class="text-muted">Unable to load gallery at the moment.</p>
                                </div>
                            `);
                        }
                    }
                });
            }

            // Handle user form submission
            function handleUserSubmit(e) {
                e.preventDefault();

                const userData = {
                    email: $('#userEmail').val(),
                    password: $('#userPassword').val(),
                    type: $('#userType').val(),
                    active: true
                };

                $.ajax({
                    url: `${API_BASE}/api/users`,
                    method: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(userData),
                    success: function (response) {
                        if (response.success) {
                            showNotification('User registered successfully!', 'success');
                            $('#userForm')[0].reset();
                            loadUsers(); // Refresh user list
                            loadStats(); // Refresh stats
                        }
                    },
                    error: function (xhr) {
                        const error = xhr.responseJSON || { message: 'Registration failed' };
                        showNotification(error.message, 'error');
                    }
                });
            }

            // Load users list
            function loadUsers(filterType = '') {
                let url = `${API_BASE}/api/users`;
                if (filterType) {
                    url += `?type=${filterType}`;
                }

                $.ajax({
                    url: url,
                    method: 'GET',
                    success: function (response) {
                        if (response.success) {
                            displayUsers(response.data);
                        }
                    },
                    error: function () {
                        $('#usersList').html(`
                            <div class="text-center text-muted">
                                <p>Unable to load users at the moment.</p>
                            </div>
                        `);
                    }
                });
            }

            // Display users
            function displayUsers(users) {
                if (users.length === 0) {
                    $('#usersList').html(`
                        <div class="text-center text-muted">
                            <p>No users found.</p>
                        </div>
                    `);
                    return;
                }

                let usersHTML = '';
                users.forEach((user, index) => {
                    const badgeClass = `badge-${user.type}`;
                    const statusIcon = user.active ? 'fa-check-circle text-success' : 'fa-times-circle text-danger';
                    const statusText = user.active ? 'Active' : 'Inactive';

                    usersHTML += `
                        <div class="user-card animate__animated animate__fadeInUp" style="animation-delay: ${index * 0.1}s;">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 class="mb-1">${user.email}</h6>
                                    <span class="badge ${badgeClass} me-2">${user.type.toUpperCase()}</span>
                                    <small class="text-muted">
                                        <i class="fas ${statusIcon} me-1"></i>${statusText}
                                    </small>
                                </div>
                                <div class="text-end">
                                    <small class="text-muted">
                                        Joined: ${new Date(user.created_at).toLocaleDateString()}
                                    </small>
                                </div>
                            </div>
                        </div>
                    `;
                });

                $('#usersList').html(usersHTML);
            }

            // Show notification
            function showNotification(message, type = 'info') {
                const alertClass = type === 'success' ? 'alert-success' :
                    type === 'error' ? 'alert-danger' : 'alert-info';
                const icon = type === 'success' ? 'fa-check-circle' :
                    type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle';

                const notification = $(`
                    <div class="alert ${alertClass} alert-dismissible fade show animate__animated animate__fadeInRight" role="alert">
                        <i class="fas ${icon} me-2"></i>
                        ${message}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);

                $('#notification-container').append(notification);

                // Auto remove after 5 seconds
                setTimeout(() => {
                    notification.fadeOut(() => notification.remove());
                }, 5000);
            }

            // Some interactive animations
            $('.stats-card').on('mouseenter', function () {
                $(this).addClass('pulse');
            }).on('mouseleave', function () {
                $(this).removeClass('pulse');
            });

            // Parallax effect for hero section
            $(window).scroll(function () {
                const scrolled = $(this).scrollTop();
                const parallax = $('.hero-section');
                const speed = scrolled * 0.5;
                parallax.css('background-position', `center ${speed}px`);
            });

            // Intersection observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                    }
                });
            }, observerOptions);

            // Observe elements
            $('.stats-card, .user-card, .fact-card').each(function () {
                observer.observe(this);
            });

            // Loading states for better UX
            function showLoading(selector) {
                $(selector).html(`
                    <div class="text-center p-4">
                        <div class="spinner"></div>
                        <p class="mt-2">Loading...</p>
                    </div>
                `);
            }

            // Demo login functionality
            function setupDemoLogin() {
                $('.navbar-nav').append(`
                    <li class="nav-item dropdown" id="authDropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user"></i> Login
                        </a>
                        <div class="dropdown-menu dropdown-menu-end p-3" style="min-width: 280px;">
                            <form id="navLoginForm">
                                <h6 class="dropdown-header px-0 mb-3">Login to ClickFit</h6>
                                <div class="mb-3">
                                    <input type="email" class="form-control form-control-sm" id="navLoginEmail" placeholder="Email" required>
                                </div>
                                <div class="mb-3">
                                    <input type="password" class="form-control form-control-sm" id="navLoginPassword" placeholder="Password" required>
                                </div>
                                <button type="submit" class="btn btn-primary-custom btn-sm w-100 mb-2">
                                    <i class="fas fa-sign-in-alt me-1"></i>Login
                                </button>
                            </form>
                            <hr class="dropdown-divider">
                            <h6 class="dropdown-header px-0 mb-2">Quick Demo Login:</h6>
                            <div class="d-grid gap-2">
                                <button class="btn btn-outline-danger btn-sm" onclick="quickLogin('gymadmin@clickfit.com', 'password')">
                                    <i class="fas fa-user-shield me-1"></i>Admin
                                </button>
                                <button class="btn btn-outline-warning btn-sm" onclick="quickLogin('gymtrainer@clickfit.com', 'password')">
                                    <i class="fas fa-user-tie me-1"></i>Trainer
                                </button>
                                <button class="btn btn-outline-success btn-sm" onclick="quickLogin('s@gmail.com', 'password')">
                                    <i class="fas fa-user me-1"></i>Member
                                </button>
                            </div>
                        </div>
                    </li>
                `);
                
                // Add event listener for the login form in navbar
                $(document).on('submit', '#navLoginForm', function(e) {
                    e.preventDefault();
                    const email = $('#navLoginEmail').val();
                    const password = $('#navLoginPassword').val();
                    demoLogin(email, password);
                });
            }
            //function for quick demo login
            window.quickLogin = function(email, password) {
                $('#navLoginEmail').val(email);
                $('#navLoginPassword').val(password);
                demoLogin(email, password);
            };
            // Demo login function
            window.demoLogin = function(email, password) {
                $.ajax({
                    url: `${API_BASE}/api/login`,
                    method: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify({ email, password }),
                    success: function(response) {
                        if (response.success) {
                            showNotification(`Welcome back! Logged in as ${response.user.type}`, 'success');
                            $('#navLoginForm')[0].reset();
                            updateUIForUser(response.user);
                        }
                    },
                    error: function() {
                        showNotification('Login failed. Please check credentials.', 'error');
                    }
                });
            };

            // Update UI based on user role
            function updateUIForUser(user) {
                const userName = user.email.split('@')[0];
                
                $('#authDropdown').html(`
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user-circle"></i> ${userName}
                    </a>
                    <ul class="dropdown-menu">
                        <li><h6 class="dropdown-header">
                            <strong>${user.email}</strong><br>
                            <small class="text-muted">${user.type.toUpperCase()}</small>
                        </h6></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt me-2"></i>Logout
                        </a></li>
                    </ul>
                `);
                
                // Hide registration form for non-admins
                if (user.type !== 'admin') {
                    $('#userForm').hide();
                }
            }
            // Logout function
            window.logout = function() {
                // The navbar dropdown 
                $('#authDropdown').html(`
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user"></i> Login
                    </a>
                    <div class="dropdown-menu dropdown-menu-end p-3" style="min-width: 280px;">
                        <form id="navLoginForm">
                            <h6 class="dropdown-header px-0 mb-3">Login to ClickFit</h6>
                            <div class="mb-3">
                                <input type="email" class="form-control form-control-sm" id="navLoginEmail" placeholder="Email" required>
                            </div>
                            <div class="mb-3">
                                <input type="password" class="form-control form-control-sm" id="navLoginPassword" placeholder="Password" required>
                            </div>
                            <button type="submit" class="btn btn-primary-custom btn-sm w-100 mb-2">
                                <i class="fas fa-sign-in-alt me-1"></i>Login
                            </button>
                        </form>
                        <hr class="dropdown-divider">
                        <h6 class="dropdown-header px-0 mb-2">Quick Demo Login:</h6>
                        <div class="d-grid gap-2">
                            <button class="btn btn-outline-danger btn-sm" onclick="quickLogin('gymadmin@clickfit.com', 'password')">
                                <i class="fas fa-user-shield me-1"></i>Admin
                            </button>
                            <button class="btn btn-outline-warning btn-sm" onclick="quickLogin('gymtrainer@clickfit.com', 'password')">
                                <i class="fas fa-user-tie me-1"></i>Trainer
                            </button>
                            <button class="btn btn-outline-success btn-sm" onclick="quickLogin('s@gmail.com', 'password')">
                                <i class="fas fa-user me-1"></i>Member
                            </button>
                        </div>
                    </div>
                `);
                
                // Re-attach event listener for the login form
                $(document).on('submit', '#navLoginForm', function(e) {
                    e.preventDefault();
                    const email = $('#navLoginEmail').val();
                    const password = $('#navLoginPassword').val();
                    demoLogin(email, password);
                });
                
                $('#userForm').show(); // Show the registration form again
                showNotification('Logged out successfully', 'info');
            };

            // Initialize demo functionality
            setupDemoLogin();

            // Add some easter eggs
            let konamiCode = [];
            const konamiSequence = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];

            $(document).keydown(function (e) {
                konamiCode.push(e.keyCode);
                if (konamiCode.length > konamiSequence.length) {
                    konamiCode.shift();
                }
                if (konamiCode.join(',') === konamiSequence.join(',')) {
                    showNotification('ðŸŽ‰ Konami Code activated! You found the secret!', 'success');
                    $('body').addClass('animate__animated animate__pulse');
                    setTimeout(() => $('body').removeClass('animate__animated animate__pulse'), 1000);
                }
            });

            // Add click counter for fun
            let clickCount = 0;
            $('.hero-title').on('click', function () {
                clickCount++;
                if (clickCount === 10) {
                    showNotification('ðŸ† Achievement unlocked: Title Clicker!', 'success');
                    $(this).addClass('animate__animated animate__rubberBand');
                }
            });

            // Add some motivational quotes
            const motivationalQuotes = [
                "The only bad workout is the one that didn't happen.",
                "Your body can do it. It's your mind you have to convince.",
                "Fitness is not about being better than someone else. It's about being better than you used to be.",
                "The groundwork for all happiness is good health.",
                "Take care of your body. It's the only place you have to live."
            ];

            setInterval(() => {
                const randomQuote = motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)];
                showNotification(`ðŸ’ª ${randomQuote}`, 'info');
            }, 30000);
        });

        // Add some CSS animations for enhanced UX
        const style = document.createElement('style');
        style.textContent = `
            .navbar.scrolled {
                background: rgba(255, 255, 255, 0.98) !important;
                box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);
            }
            
            .card:hover {
                transform: translateY(-5px);
                transition: transform 0.3s ease;
            }
            
            .btn:hover {
                transform: translateY(-1px);
            }
            
            .user-card:hover {
                border-left: 4px solid var(--primary-color);
            }
            
            @media (max-width: 768px) {
                .hero-section {
                    text-align: center;
                }
                
                .stats-card {
                    margin-bottom: 1rem;
                }
                
                .btn {
                    width: 100%;
                    margin-bottom: 10px;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>

</html>